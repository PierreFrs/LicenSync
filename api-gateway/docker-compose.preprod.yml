services:

### API Gateway ###
    api-gateway:
        build:
            context: .
            dockerfile: prod/Dockerfile
        container_name: api-gateway
        restart: unless-stopped
        ports:
        - "3036:80"
        pull_policy: build
        networks:
        - licensync_network
        - nginx_proxy_manager_npm_network
        depends_on:
        - backend
        - event-logger-service
        - frontend
        - prometheus
        - grafana

networks:
    licensync_network:
      driver: bridge
    nginx_proxy_manager_npm_network:
      name: nginx_proxy_manager_npm_network
      external: true